<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>TV Video Room</title>

<script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/aframe-extras@7.0.0/dist/aframe-extras.min.js"></script>
</head>

<body>

<a-scene background="color: #111">

  <!-- ASSETS -->
  <a-assets>
    <a-asset-item id="plantModel" src="plant.glb"></a-asset-item>
    

    <video id="tvVideo"
           src="tvvideo1.mp4"
           preload="auto"
           loop
           crossorigin="anonymous"
           webkit-playsinline
           playsinline>
    </video>
  </a-assets>

  <!-- CAMERA -->
  <a-camera position="0 2 4">
    <a-cursor color="yellow"></a-cursor>
  </a-camera>

  <!-- LIGHTS -->
  <a-light type="ambient" intensity="0.6"></a-light>
  <a-light type="directional" position="2 5 3" intensity="1"></a-light>

  <!-- FLOOR -->
  <a-plane rotation="-90 0 0" width="12" height="12" color="#222"></a-plane>

  <!-- WALLS -->
  <a-plane position="0 2 -6" width="12" height="4" color="#f5f5f5"></a-plane>
  <a-plane position="-6 2 0" rotation="0 90 0" width="12" height="4" color="#eeeeee"></a-plane>
  <a-plane position="6 2 0" rotation="0 -90 0" width="12" height="4" color="#eeeeee"></a-plane>

  <!-- PLATFORM -->
  <a-cylinder position="0 0.3 -2"
              radius="1"
              height="0.6"
              color="#333">
  </a-cylinder>

  <!-- TV BODY -->
  <a-box id="tv"
       position="0 2.5 -2"
       width="4.4"
       height="2.6"
       depth="0.2"
       color="black">
</a-box>

  <!-- TV SCREEN -->
  <a-plane id="tvScreen"
         position="0 2.5 -1.89"
         width="4.0"
         height="2.3"
         color="black">
</a-plane>

<a-text id="aiText"
        value="AI Ready..."
        position="0 2.5 -1.88"
        align="center"
        color="white"
        width="3.8">
</a-text>
  <!-- TV STAND -->
  <a-cylinder position="0 1.4 -2"
              radius="0.05"
              height="1.6"
              color="#555">
  </a-cylinder>

  <!-- CORNER PLANTS -->
  <a-entity gltf-model="#plantModel"
            position="-5.5 0 -5.5"
            scale="0.2 0.2 0.2"
            rotation="0 45 0">
  </a-entity>

  <a-entity gltf-model="#plantModel"
            position="5.5 0 -5.5"
            scale="0.2 0.2 0.2"
            rotation="0 -45 0">
  </a-entity>

  <a-entity gltf-model="#plantModel"
            position="-5.5 0 5.5"
            scale="0.2 0.2 0.2"
            rotation="0 135 0">
  </a-entity>

  <a-entity gltf-model="#plantModel"
            position="5.5 0 5.5"
            scale="0.2 0.2 0.2"
            rotation="0 -135 0">
  </a-entity>

 
 

</a-scene>

<div style="position:fixed; bottom:20px; left:50%; transform:translateX(-50%);
            background:#000a; padding:10px; border-radius:10px;">

  <input id="aiInput" 
         placeholder="Ask Gemini..."
         style="width:300px; padding:8px;" />

  <button onclick="askGemini()">Ask</button>

</div>

<script>



const API_KEY = "AIzaSyAVdSDV8nM5DRrNGfqlCa6wCfiPI2z7DC4";

async function askGemini() {

  const input = document.getElementById("aiInput").value;
  const aiText = document.getElementById("aiText");

  if (!input) return;

  aiText.setAttribute("value", "Thinking...");

  try {

    const response = await fetch(
      `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`,
      {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          contents: [{
            parts: [{ text: input }]
          }]
        })
      }
    );

    const data = await response.json();

    const reply = data.candidates[0].content.parts[0].text;

    aiText.setAttribute("value", reply);

  } catch (error) {
    aiText.setAttribute("value", "Error connecting to Gemini.");
    console.error(error);
  }

}



</script>

</body>

</html>
